<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE struts PUBLIC "-//Apache Software Foundation//DTD Struts Configuration 2.5//EN" "http://struts.apache.org/dtds/struts-2.5.dtd">
<struts>
	<constant name="struts.devMode" value="true"></constant>
	<package name="HeevoPttpWeb" extends="struts-default, json-default">
		<!-- Interceptors -->
		<interceptors>
			<interceptor name="authenticationInterceptor" class="life.heevo.pttp.web.interceptor.AuthenticationInterceptor"/>
			<interceptor-stack name="secureStack">
				<interceptor-ref name="authenticationInterceptor"/>
				<interceptor-ref name="defaultStack"/>
			</interceptor-stack>
		</interceptors>
		<!-- PPs -->
		<action name="paginaCadastroPP">
			<result>/pages/pp/cadastrarPP.jsp</result>
		</action>
		<action name="inserirPP" class="life.heevo.pttp.web.controllers.PPController" method="inserirPP">
			<result name="success" type="redirect">listarPPs.action</result>
			<result name="error">/pages/pp/cadastrarPP.jsp</result>
			<result name="input">/pages/pp/cadastrarPP.jsp</result>
		</action>
		<action name="listarPPs" class="life.heevo.pttp.web.controllers.PPController" method="listarPPs">
			<result name="success">/pages/pp/listarPPs.jsp</result>
			<result name="error">/pages/pp/listarPPs.jsp</result>
		</action>
		<action name="pesquisarPpPorNome" class="life.heevo.pttp.web.controllers.PPController" method="pesquisarPpPorNome">
			<result type="json" name="success">
				<param name="root">
					ppsPorNome
				</param>
			</result>
		</action>
		<!-- Login -->
		<action name="login">
			<result>/pages/login.jsp</result>
		</action>
		<action name="login" class="life.heevo.pttp.web.actions.LoginAction">
			<result name="success" type="redirect">task.action</result>
			<result name="input">/pages/login.jsp</result>
		</action>
		<!-- Logout -->
		<action name="logout" class="life.heevo.pttp.web.actions.LogoutAction">
			<result name="success" type="redirect">login.action</result>
		</action>
		<action name="task">
			<interceptor-ref name="secureStack"/>
			<result>/pages/main.jsp</result>
			<result name="login">/pages/login.jsp</result>
		</action>
	</package>
</struts>